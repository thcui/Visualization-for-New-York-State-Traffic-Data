[["index.html", "Visualization for New York State Traffic Data Chapter 1 Introduction", " Visualization for New York State Traffic Data Tianhang Cui, Siyue Han 2021-12-17 Chapter 1 Introduction Traffic volume statistics, refers to the statistics of the number of vehicles or pedestrians passing through places along a specific road or intersection. Traffic volume statistics are usually automatically counted by the equipment installed near the road, or the number of passing vehicles or pedestrians is counted and recorded by the observer holding an electronic device or visually on the record sheet. Local governments can use traffic volume statistics to determine which roads are prone to congestion, improve the congestion of the road or provide alternatives. Traffic volume can be used by local councils to identify which routes are used most, and to either improve that road or provide an alternative if there is an excessive amount of traffic. Also, traffic volume are useful for comparing two or more roads, and can also be used alongside other methods to find out where the central business district (CBD) of a settlement is located. To put in a nutshell, studying traffic volume could have the following advantages: Establish the relative importance of any road. Structural design of roads. Planning and design of new streets. Design of intersections and other control devices Planning, design, and regulation of traffic. Establish properties and schedules for traffic improvements. This project uses traffic volume data primarily from New York State Department of Transportation. To be specific, it includes traffic volume data from 2018 to 2020 with 332,957 records of data in total. Besides, this project is also interested in how the COVID-19 pandemic affects traffic volume, therefore, it also uses data from New York State Department of Health, which provides statistics of COVID-19 cases in the New York State from March 1st, 2020 to the present. "],["data-sources.html", "Chapter 2 Data sources 2.1 Short Count Volume dataset from the New York State Department of Transportation 2.2 Average Weekday Speed dataset from the New York State Department of Transportation 2.3 New York State Statewide COVID-19 Testing dataset from the New York State Department of Health 2.4 Other resources", " Chapter 2 Data sources The primary data sources of this project are New York State Department of Transportation and New York State Department of Health. They are the organizations who are responbsible for collecting thest data. The New York State Department of Transportation(NYSDOT) monitored and gathered the traffic data including vehicle classification, volume and speed, and they are accessible as comma delimited text files.The data is collected by using the portable traffic counters. All portable traffic counters have been tested annually, to ensure that their count deviation does not exceed 2%. To be more specific, each count is collected by one of the following equipment: 1. Diamond Traffic Products(models Unicorn &amp; Phoenix) 2. MetroCount MC5805 3. MetroCount 5600 TRAFMAN (Diamond Traffic Products), Road Reporter (International Road Dynamics), and Traffic Executive (MetroCount) software are used by the Main Office and Regional Offices of NYSDOT to read traffic count data from electronic counters and prepare the requisite output format files. These counters and programs relevant to the generation of NYSDOT format files may be assisted by the Main Office. The New York State Department of Health(NYSDOH) reported the New York State Statewide COVID-19 testing results and and it is also accessible as comma delimited text files. There are also some other data sources similar to what we used, but they are not published by official orginazation and they are adopted from the data sources above. Thus, to make our result accurate, we used the original and official data. In summary, we utilized two datasets from NYSDOT: Short Count Volume dataset and Average Weekday Speed dataset, and one dataset from NYSDOH: New York State Statewide COVID-19 Testing dataset. 2.1 Short Count Volume dataset from the New York State Department of Transportation Link to the dataset: https://www.dot.ny.gov/divisions/engineering/technical-services/highway-data-services/hdsb This dataset contains information about the traffic count for different time slots on different days from 2018 to 2020, so we can get the general pattern, and help us analyze how COVID-19 impact the pattern of traffic volume. It has very detailed information for each record, such as region, county, direction, etc., so that we can group data by different categories and get insights about the patterns for each kinds of groups. Table 2.1: Major columns used Column Description COUNT_ID A unique ID for each count session loaded, each count has one Count_ID for all data types. REGION A single digit code for each NYSDOT Region. Can be concatenated with County_Code and Station number to create a unique ID COUNTY_CODE A single digit code for each County within a NYSDOT Region. Can be concatenated with Region_Code and Station number to create a unique ID STATION A four digit number unique within a county representing a specific segment of road for traffic counting purposes. Can be concatenated with Region_Code and County_Code to create a unique ID. SPECIFIC_RECORDER_PLACEMENT Verbal description of the primary counter placement. YEAR The year in which the data was collected. MONTH The month in which the data was collected. DAY The Day of data collection. DAY_OF_WEEK The day of week the data was collected. FEDERAL_DIRECTION The federal direction code for the data record. 1 – North, 3 – East, 5 – South, 7 – West, 9 – North/South Combined, 0 – East/West combined LANE_CODE The lane code by direction, starting with 1 as the rightmost lane. LANES_IN_DIRECTION The total number of lanes expected in this direction. Interval_1_1 through Interval_24_4 Volume Data for each 15 minute interval. The hourly data will be represented in intervals 1_1, 2_1, etc. TOTAL The sum of all intervals for the record. Number of Records: There are 99454 records for year 2018, 122967 records for year 2019, and 110536 records for year 2020. In total there are 332,957 records of data. Potential issues found in this dataset: The data for January 2020 and February 2020 seems to be missing. There are some records with the data in the wrong columns, for example, there are 6 rows with DATATYPE=2020, YEAR=6, MONTH=1, DAY=Tuesday, which seems not valid but may be an input error, we need to fix them manually. 2.2 Average Weekday Speed dataset from the New York State Department of Transportation Link to the dataset: https://www.dot.ny.gov/divisions/engineering/technical-services/highway-data-services/hdsb As it provided the average speed data for each day, we can combine it with the short count volume dataset to see the relationship between the traffic count and the average speed for each day on average. This helps us solve the second question above. We only used the column ‘SPEED’(Which represents the average speed for a testing period), and pair each records to the vehicle count dataset by “COUNT_ID”, “YEAR”, “MONTH”, “DAY” and “FEDERAL_DIRECTION”. As we have discussed in chapter 4, we found too many missing data for speed, so we did not use them in analysis. Thus, we did not includes too much details about this dataset here. 2.3 New York State Statewide COVID-19 Testing dataset from the New York State Department of Health Link to the dataset: https://health.data.ny.gov/Health/New-York-State-Statewide-COVID-19-Testing/xdss-u53e/data This dataset provides the number of new positive and cumulative cases of Covid-19 in the New York State from 2020 March 1st to the present. Thus, we can use it to make a plot showing the trend of the pandemic for the entire state, and then compare the trend with traffic volume in the New York state. This helps us solve the third question above. Table 2.2: Major columns used Column Description Test Date The date the test result was processed by the NYS Electronic Clinical Laboratory Reporting System (ECLRS). County The county of residence for the person tested. New positives The number of new persons tested positive for COVID-19 infection on the test date in each county. Cumulative number of positives Running total for the number of persons tested positive for COVID19 infection in each county as of the test date. Total number of tests performed The number of tests of individuals performed on the test date in each county. This total includes positives, negatives, and inconclusive results. Cumulative number of tests performed Running total for the number of tests of individuals performed in each county as of the last update to the dataset. This total includes positives, negatives, and inconclusive results. Number of Records: There are 40,424 records of data in total Potential issues found in this dataset: No potential issues found in this simple dataset 2.4 Other resources https://www.dot.ny.gov/regional-offices The above website provided us the way to interpret the region data, the original region data is the number corresponding to each regions.(ex. 11 for New York City) https://www.dot.ny.gov/gisapps/functional-class-maps This website provided us the way to interpret the region county codes, the original region data are 2 separated number corresponding to region and county. https://www.dot.ny.gov/divisions/engineering/technical-services/hds-respository/Traffic%20Data%20Report%202011%20Appendix%20D%20-%20NYSDOT%20Regions%20and%20County%20Codes.pdf This document provided us the way to interpret the functional class data, the original region data is the number corresponding to each classification.(ex. 01 represents interstate principal arterial in the rural area) https://www.dot.ny.gov/divisions/engineering/technical-services/highway-data-services/hdsb/repository/Field_Definitions_SC%20Formats.pdf This document provided us the way to know the meaning of each columns in the ‘New York State Statewide COVID-19 Testing dataset’ https://health.data.ny.gov/Health/New-York-State-Statewide-COVID-19-Testing/xdss-u53e/data This document provided us the way to know the meaning of each columns in the ‘Short Count Volume dataset’ https://cugir.library.cornell.edu/catalog/cugir-007865 The above website provided us the shapefile for New York Sate and it is used in the interactive component "],["data-transformation.html", "Chapter 3 Data transformation 3.1 For Short Count Volume dataset 3.2 For Average Weekday Speed dataset 3.3 For New York State Statewide COVID-19 Testing dataset", " Chapter 3 Data transformation The script for data transformation can be found here: https://github.com/thcui/Visualization-for-New-York-State-Traffic-Data/blob/main/data/data_transformation.Rmd 3.1 For Short Count Volume dataset 3.1.1 Drop unnecessary columns We dropped the following columns as they are not necessary for our tasks DATA_TYPE, RC_STATION, LATITUDE, LONGITUDE, FLAG_FIELD, RCSTA, FACTOR_GROUP, VEHICLE_AXLE_CODE, BATCH_ID, CHANNEL_NOTES 3.1.2 Aggregate the Time Columns The original dataset includes the volumn count for every 15 mins, which is too detailed and such many columns would make our plots to be complex. Thus, we combined them to have one count per hour, for each set of observation. 3.1.3 Use region name to replace region code We need to show the name for each region to let the user to know which region it is instead of using a code, this is needed when we made many plots, so we transformed the dataset. 3.1.4 Use county name to replace the combination of region code and county code We need to use the county name as the key to pair with the data in the shapefile, but there is no county name provided. So we have to combine the region code and county code to get the county and translate it to the county name following the official document “NYSDOT Region and County Codes”. 3.1.5 Fixing the obvious errors in the dataset As we mentioned in the second chapter, there are a few records with data in the wrong columns, we made fixed them by hand as the number of these errors is small (12 in total). 3.2 For Average Weekday Speed dataset We extracted the column ‘SPEED’, and pair each records to the vehicle count dataset by “COUNT_ID”, “YEAR”, “MONTH”, “DAY” and “FEDERAL_DIRECTION”. However, as we further noticed there are too much data missing for ‘SPEED’, we decided not analyzing the ‘SPEED’ data anymore.(See chapter 4 - ‘Missing Values’ for more details) 3.3 For New York State Statewide COVID-19 Testing dataset We did not transform the data as the data is already in the format we need and it is simply by itself. "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values We will first make a visna plot for the transformed dataset, which provides a good first overview of the missing values: Here we only show the most frequent 15 patterns as the number of patterns in total is huge and most of the patterns only have a few occurrences. By investigating the above plot, we found there are a lot of missing data for the average speed of the car per day, so we are considering removing it, as the huge missing of the data would make the result based on it unreliable. Half of the rows in the data have no missing data except for the average speed, but the rest half have very different kinds of missing patterns. We also noticed that the rest of the missing data are mostly from the vehicle count data(count-per-hour) for different periods during a day, so we decided to do more investigation focus on them to understand these missing patterns. Regrading to count-per-hour data, we noticed that most of the missing patterns would have missing data for a continuous-time interval(ex. 7 pm, 8 pm, 9 pm .etc). We suspect that this may be because the data are collected for a continuous hour period (eg. 24/36/48 continuous hours), so the hours without any counting are often continuous. To do more investigation focus on count-per-hour data, we first made a bar plot to check the trend of number of missing value with time. For the count for different time interval, it seems that there are more missing of the data from 7am to 7pm, but the number of missing data does not different by a lot for each time interval. Then we further made the plots showing the missing value for specific time period and date for each count session. ## [1] &quot;English_United States.1252&quot; We made many plots as above, and here we use the count session in November 2020 from New York County in New York City as an example. By using the many plots just as the above, we can easily find, for each count session, it counts the volume of cars for continuous hours and it is recorded as a whole day even not all the hours in that day are counted. This leads to the majority of missing data in the dataset as the rest of the hours during the day(red area) are recorded as NA. Also, we indeed found some random missing value that does not follow this pattern, but they are much less frequent. After checking the documentation, there is no explanation for these missing values, so we wound treat them as errors. "],["results.html", "Chapter 5 Results 5.1 The overall trend of the average count per hour per street from 2018 to 2020 5.2 The trend of the average count vs the COVID-19 cases 5.3 The comparison between rural and urban areas for their trend of the average count 5.4 The distribution of vehicle count among different regions in New York State from 2018 to 2020 5.5 The busiest streets in New York State from 2018 to 2020 5.6 The distribution of vehicle count among different day of week in New York State from 2018 to 2020 5.7 Difference in vehicle counts on weekdays and weekends among different regions 5.8 The average count for different time slots in a week 5.9 Difference in average vehicle counts between different lanes", " Chapter 5 Results (All the ‘average count’ without other specification refers to the average count per hour per street) 5.1 The overall trend of the average count per hour per street from 2018 to 2020 We first analyzed the overall trend of the traffic data in the New York state to get an overview. In general, we can see the streets in the New York State are busy in the first three months in each year. The general trend and level are very similar between 2018 and 2019, but the counts for the first half of the year of 2020 is much lower than other years, which suggested us that there may be some effects from the COVID-19. We have also noticed that there is no data for the January and February for 2020, this may due to the COVID-19 or other errors in the dataset, but there is no official explanation for them. 5.2 The trend of the average count vs the COVID-19 cases To check if COVID-19 indeed had an impact on the traffic volume, we plot the total amount of COVID-19 comfirmed cases each month from March 2020 to December 2020. We then plot the average vehicle count during that period. ## TableGrob (3 x 1) &quot;arrange&quot;: 3 grobs ## z cells name grob ## 1 1 (2-2,1-1) arrange gtable[layout] ## 2 2 (3-3,1-1) arrange gtable[layout] ## 3 3 (1-1,1-1) arrange text[GRID.text.9065] From the line chart above, we can conclude that when the pandemic totally outbreaks in New York State in April 2020, there was a sudden drop in the average car counts on the street. This was probably because of the Covid Shutdown policy in New York. However, there was only a slight decrease in the average vehicle counts after October, with a much more serious increase in the number of new cases. Therefore, we make a conclusion that people will be more likely to stay home and do not drive their cars when there is an outbreak of the pandemic, but this may be mainly affected by the shutdown policy instead of people’s own willingness. 5.3 The comparison between rural and urban areas for their trend of the average count First, we used a parallel coordinate plot, with local min/max scale, to show the relationships between the variables and see which regions have relatively high/low count in each kind of areas. Average count for a street per hour for rural and urban areas in different regions In general, it seems the number of counts in the rural expressway is positively correlated with the number in other rural roads, and the number of counts in the urban expressway is positively correlated with the number in other urban roads, The New York City is seemingly different from other regions as there is 0 volume count for the rural area. Next, we used the ‘globalminmax’ scale to make a general quantitaively comparison between the count for rural and urban areas. From the second plot, we can tell more than half of the regions in New York State have very high vehicle volume in the urban area, but the others tend to have similar amount in both rural and urban areas. For most of the regions, the volume are concentrated at the express ways. 5.4 The distribution of vehicle count among different regions in New York State from 2018 to 2020 Since New York City is so different among regions in New York State, we then use boxplots to study the distribution of vehicle count among different regions, so that we could better know how New York City is different in vehicle count. From the plots above, streets in New York City are always the busiest among regions in New York State from 2018 to 2020. 5.5 The busiest streets in New York State from 2018 to 2020 From the plots above, we can see there are more busy streets from New York City(NYC) and Hauppauge in 2018 and 2019, and there are some busy streets from other regions in 2018 and 2019. However, it turns out that the 15 busiest streets are all from NYC in 2020. We can see there is a trend that NYC become dominate the first 15 busiest streets from 2018 to 2020. This suggests that there may be something different between NYC and other counties, and we should take a closer look at NYC. 5.6 The distribution of vehicle count among different day of week in New York State from 2018 to 2020 We then conduct research on the difference of traffic volume among different day of week. First, we look at the distribution of vehicle count among different day of week using a boxplot. From the boxplot above, streets in New York States are busiest on Monday, Tuesday, and Wednesday, and least busy on Friday from 2018 to 2020. 5.7 Difference in vehicle counts on weekdays and weekends among different regions Also, we would like to know if there is some difference in the proportion of vehicle counts on weekdays and weekends among different regions. From the above diverging stacked bar chart, we can see the difference in vehicle count on weekdays and weekends for different regions in New York State. Some regions like Buffalo, Hauppauge, Watertown, and New York City have much more cars on weekdays than weekends, probably because these regions are basically work and live spaces, which involve lots of commute vehicle count. Other regions like Binghamton and Utica have more cars on weekends than weekdays. 5.8 The average count for different time slots in a week From the heat map above, we can see the counts are concentrated from 16:00 to 18:00 on workdays, and Monday tends to have a longer time of busy hours than any other day in a week. This may be because many people would like to go home after work or go to someplace to relax in the period of 16:00 to 18:00. The counts are also concentrated from 8 am to 9 am for the workdays, this is highly likely because people need to go to work. However, this trend is less obvious than the concentrated count from 16:00 to 18:00 on the workdays. We also noticed that the number of hours with relatively high counts tends to decrease from 2018 to 2020, and it decreased a lot in 2020 compared with 2019. This may be due to the pandemic, and more people need to work at home so they would not need to use the street. The street tends to be much less busy on Saturday and Sunday, this may be because going to work is the main reason people need streets, but it is also likely that people still use the street a lot on weekends but the needs are less concentrated on specific hours. Based on the plots, it seems reasonable to make a suggestion to the department of transport such that putting more police to help with traffic on 8 am-9 am and 15 am-19 am on weekdays. As we have seen the New York City seems to be different from other regions from the bar plots above, we made the same treemap for only New York City to see if we can get more information about this difference. The treemap for the region of New York City behaves different pattern from the treemap before. We can see the number of busy hours is high in both 2018 and 2020 but low in 2019, and it is extremely busy for Monday and Tuesday from 15 pm to 18 pm. We did not see the pattern that the pandemic made people use the street less than before, and the street tends to be busier in 2020 than in 2019. However, there are also some patterns that New York city shares with the entire New York State, the streets in New York City also tend to be busier on Monday and Tuesday than on other days, and the busy hours are longer in the afternoon than in the morning. 5.9 Difference in average vehicle counts between different lanes We then focus on the difference in vehicle counts(averaged to each steet and each hour) among different lanes of streets using a mosaic plot. From the above mosiac plot, we can see that there are more cars in the middle lanes of a street, and fewer cars in the side lanes of a street. Also, there are more cars in streets with many lanes (i.e. those big streets), and fewer cars in streets with few lanes (i.e. those small streets), which is intuitive because big streets are more likely to be busy streets. "],["interactive-component.html", "Chapter 6 Interactive component 6.1 Link to the interactive component 6.2 Instructions 6.3 Description 6.4 The Purpose of this Visualization 6.5 How Interactivity Helps Us", " Chapter 6 Interactive component 6.1 Link to the interactive component Click here! or use the URL: http://tianhangcui.com/Visualization_for_New_York_State_Traffic_Data/index.html 6.2 Instructions 1.Move/Expand/Shrink the brush on the overview line chart (the smaller one) to adjust the time period you want to focus on; Shrink the brush to its minimum size will remove the brush, and then drag the mouse on the overview line chart again will bring the brush back; Both the line chart and the color of the map will then change according to the time period you selected. 2.Move the mouse over the line chart to see the tooltip showing the detail number. 3.Move the mouse over the map to see the tooltip showing the county name and the detail number. 6.3 Description The interactive plots are built with D3 version 7, anyone can check the code by using: developer tools-&gt;resources, or via the github page here. The line chart shows the average count for per street per hour for the entire New York State, using can change the time period by shrink/expand/move the brush under the line chart. The choropleth map shows the average number of counts per street per hour for each county in the New York State. It calculates the average based on the time interval user selected on the line chart. 6.4 The Purpose of this Visualization The main purpose is to allow users can easily know the trend of the vehicle count in New York State in recent years or any recent periods. Another purpose is to help users to know how the vehicle count changed for each county and check if there is any geographical pattern in New York State, especially during the time of pandemic and we suspect the New York City behaved differently from other counties in terms of the traffic count. 6.5 How Interactivity Helps Us The control over which period to display on the line chart allows users to look carefully at a specific period, and it also allows users to have the ability to have an overview of the data. This also gives users the freedom to see the average count on the map for a specific county in any possible period. The user may want to focus on one specific month, one specific year, or all three years, etc., interactivity makes this possible. The tooltip on the line chart and map allows the user to know the exact value, without making the plots messy, the user can get the information by his/her need. The animation of the line chart when the chart is initialized helps the user to know how the time is related to the horizontal axis and where is the brush currently focused on, the animation line chart when moving the brush allows the user to easily know what changes he/she is currently making related to the line chart. The animation of color change on the map (after each time the user changed the brush) allows the user to easily detect which part of the graph has changed. Screenshot of the Interactive Component "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion In conclusion, as we take an overview of the traffic data in the New York State, we find that the general trend and level are very similar between 2018 and 2019, where the streets are busy in the first three months in each year. However, the data in the first half of 2020 seems quite abnormal, which suggests a possibility that it is affected by COVID-19. Therefore, we compare the traffic data and the COVID-19 data in each month, and conclude that people will be more likely to stay home and do not drive their cars when there is an outbreak of the pandemic. We then use a parallel coordinate plot to see the relationships between different variables, and draw the conclusion that New York City, with a 0 volume in rural area, is quite different from other regions. As we move on to study the distribution of vehicle count among different regions, we find that streets in New York City are always the busiest among regions in New York State from 2018 to 2020. Moreover, we use bar charts to find which streets are the busiest in New York State, and the result suggests that the busiest streets are mostly from New York City (NYC) and Hauppauge in 2018 and 2019 but it turns out that the top 15 busiest streets are all from NYC in 2020. We then conduct research on the difference of traffic volume among different day of week. We first use a boxplot to show the distribution of vehicle count among different day of week, and it turns out that streets in New York States are busiest on Monday, Tuesday, and Wednesday, and least busy on Friday from 2018 to 2020. Then, we compare the difference of traffic volume on weekdays and weekends among different regions using a diverging stacked bar chart, and concludes that regions like Hauppauge and New York City have much more cars on weekdays than weekends, which somehow correlated with the location of busiest streets we found previously. Moreover, as we move forward to see the exact hours that have the heaviest traffic using heat map , we find that the counts are concentrated from 16:00 to 18:00 and from 8 am to 9 am on weekdays, which are exactly the hours when people go to work and return home. Also, the number of hours with relatively heavier traffic decreased a lot in 2020, probably due to the pandemic when more people started to work remotely. We then focus on the difference in vehicle counts among different lanes of streets. With a mosaic plot, we discover that there tends to be more cars in the middle lanes of a street, and fewer cars in the side lanes of a street and there tends to be more cars in streets with many lanes than in streets with few lanes, which suggests big streets are more likely to be busy streets. Finally, we make an interactive graph to help users better know the trend of the vehicle count in New York State in recent years and know discover the vehicle count changed among different regions. "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
